(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(14),c=n.n(u),o=n(4),l=n(2),i=function(e){var t=e.filter,n=e.setFilter;return a.a.createElement("div",null,"filter shown with: "," ",a.a.createElement("input",{value:t,onChange:function(e){return n(e.target.value)},placeholder:"Enter name..."}))},s=function(e){var t=e.newName,n=e.newNumber,r=e.setNewName,u=e.setNewNumber,c=e.addPerson;return a.a.createElement("form",{onSubmit:c},a.a.createElement("div",null,"name: ",a.a.createElement("input",{value:t,onChange:function(e){console.log("name value: ",e.target.value),r(e.target.value)},placeholder:"New contact name"})),a.a.createElement("div",null,"number: ",a.a.createElement("input",{value:n,onChange:function(e){console.log("number value: ",e.target.value),u(e.target.value)},placeholder:"New contact number"})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"add")))},d=function(e){var t=e.person,n=e.deletePerson;return a.a.createElement("tr",null,a.a.createElement("td",null,t.name),a.a.createElement("td",null,t.number),a.a.createElement("td",null,a.a.createElement("button",{onClick:function(){return n(t)}},"delete")))},m=function(e){var t=e.persons,n=e.filter,r=e.deletePerson,u=n.toLowerCase();return a.a.createElement("table",null,a.a.createElement("tbody",null,t.filter((function(e){return e.name.toLowerCase().includes(u)})).map((function(e){return a.a.createElement(d,{key:e.name,person:e,deletePerson:r})}))))},f=function(e,t,n){return e?(setTimeout((function(){return n(null)}),5e3),a.a.createElement("div",{style:t},e)):null},b=function(e){var t=e.message,n=e.setter;return f(t,{color:"green",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},n)},h=function(e){var t=e.message,n=e.setter;return f(t,{color:"red",background:"lightgrey",fontSize:20,borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},n)},p=n(3),E=n.n(p),g="/api/persons",v=function(e){return e.then((function(e){return e.data}))},w=function(){return v(E.a.get(g))},y=function(e){return v(E.a.post(g,e))},j=function(e,t){return v(E.a.put("".concat(g,"/").concat(e),t))},N=function(e){return v(E.a.delete("".concat(g,"/").concat(e)))},O=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],u=t[1],c=Object(r.useState)(""),d=Object(l.a)(c,2),f=d[0],p=d[1],E=Object(r.useState)(""),g=Object(l.a)(E,2),v=g[0],O=g[1],k=Object(r.useState)(""),S=Object(l.a)(k,2),P=S[0],C=S[1],A=Object(r.useState)(null),B=Object(l.a)(A,2),z=B[0],D=B[1],F=Object(r.useState)(null),J=Object(l.a)(F,2),L=J[0],R=J[1];Object(r.useEffect)((function(){w().then((function(e){return u(e)}))}),[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Phonebook"),a.a.createElement(h,{message:z,setter:D}),a.a.createElement(b,{message:L,setter:R}),a.a.createElement(i,{filter:P,setFilter:C}),a.a.createElement("h3",null,"Addd new entry"),a.a.createElement(s,{newName:f,newNumber:v,setNewName:p,setNewNumber:O,addPerson:function(e){e.preventDefault();var t={name:f,number:v},r=n.map((function(e){return e.name})).includes(f);if(r&&window.confirm("".concat(f," is already added to phonebook.\n")+"Would you like to update this entry?"))j(n.find((function(e){return e.name===f})).id,t).then((function(e){return u(n.map((function(t){return t.id!==e.id?t:Object(o.a)(Object(o.a)({},t),{},{number:v})}))).then((function(){R("Added ".concat(f," successfully."))}))}));else{if(r)return;y(t).then((function(e){return u(n.concat(e))})).then((function(){R("Added ".concat(f," successfully."))}))}p(""),O("")}}),a.a.createElement("h3",null,"Numbers"),a.a.createElement(m,{persons:n,filter:P,deletePerson:function(e){window.confirm("Are you sure you want to delete ".concat(e.name,"?"))&&N(e.id).then((function(){u(n.filter((function(t){return t.id!==e.id})))})).then((function(){R("Deleted ".concat(e.name," successfully."))})).catch((function(){D("".concat(e.name," already deleted.")),w().then((function(e){return u(e)}))}))}}))};c.a.render(a.a.createElement(O,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.bd90472b.chunk.js.map